webpackJsonp([3],{SNlY:function(e,t){},V8KS:function(e,t){},dzCT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={props:{orders:{type:Array,default:function(){return[]}}},data:function(){return{currentPage:1,pageSize:5}},computed:{curOrders:function(){var e=this.orders.length,t=this.pageSize*(this.currentPage-1),r=t+this.pageSize;return t<r?this.orders.slice(t,r):this.orders.slice(t,e)}},methods:{handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},deleteRow:function(){console.log(arguments)}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.curOrders,stripe:""}},[r("el-table-column",{attrs:{fixed:"",prop:"id",label:"订单号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"dishName",label:"美食名称",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"amount",label:"交易金额",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerName",label:"顾客姓名",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"startTime",label:"下单时间",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"rate",label:"用户评分",width:"300"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.deleteRow(t.row.id)}}},[e._v("\n        移除\n      ")])]}}])})],1),e._v(" "),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.orders.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]},n={components:{list:r("VU/8")(a,s,!1,null,null,null).exports},data:function(){return{searchId:"",searchCustomerName:"",orders:[]}},computed:{},mounted:function(){this.getOrderByStoreId()},methods:{reset:function(){this.searchId="",this.searchCustomerName="",this.getOrderByStoreId()},searchById:function(){var e=this;console.log("searching"),this.$axios.get("api/order/searchById",{params:{id:this.searchId,storeId:sessionStorage.getItem("storeId")}}).then(function(t){e.orders=t.data}).catch(function(t){e.$message.error(t.status+" "+t.error)})},searchByCustomerName:function(){var e=this;console.log("searching"),this.$axios.get("api/order/searchByCustomerName",{params:{customerName:this.searchCustomerName,storeId:sessionStorage.getItem("storeId")}}).then(function(t){e.orders=t.data}).catch(function(t){e.$message.error(t.status+" "+t.error)})},getOrderByStoreId:function(){var e=this;this.$axios.get("api/order/getOrderByStoreId",{params:{storeId:sessionStorage.getItem("storeId")}}).then(function(t){e.orders=t.data}).catch(function(t){e.$message.error(t.status+" "+t.error)})}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search"},[r("el-input",{staticStyle:{float:"left",width:"300px"},attrs:{placeholder:"按订单号查询，按下回车查询"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchById(t)}},model:{value:e.searchId,callback:function(t){e.searchId=t},expression:"searchId"}}),e._v(" "),r("el-input",{staticStyle:{float:"left","margin-left":"20px",width:"300px"},attrs:{placeholder:"按顾客名查询，按下回车查询"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchByCustomerName(t)}},model:{value:e.searchCustomerName,callback:function(t){e.searchCustomerName=t},expression:"searchCustomerName"}})],1),e._v(" "),r("el-button",{staticClass:"reset",attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),r("hr",{staticClass:"scale-half"}),e._v(" "),r("list",{attrs:{orders:e.orders}})],1)},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(e){r("SNlY"),r("V8KS")},"data-v-70b570dd",null);t.default=i.exports}});
//# sourceMappingURL=3.e902fb380b6d9a247811.js.map