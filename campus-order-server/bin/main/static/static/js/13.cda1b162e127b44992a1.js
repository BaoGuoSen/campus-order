webpackJsonp([13],{q3Wa:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("Z8es"),a={data:function(){var e=this;return{user:{password:"",checkpassword:"",userName:"",id:""},rules:{userName:[{validator:function(e,r,s){if(!r)return s(new Error("用户名不能为空"));s()},trigger:"blur"}],password:[{validator:function(e,r,s){""===r?s(new Error("请输入密码")):s()},trigger:"blur"}],checkpassword:[{validator:function(r,s,t){""===s?t(new Error("请再次输入密码")):s!==e.user.password?t(new Error("两次输入密码不一致")):t()},trigger:"blur"}]}}},methods:{register:function(e){var r=this;this.$refs[e].validate(function(e){e?(r.user.id=t.generate(),r.user.userType=r.$route.query.userType,r.$axios.post("api/user/register",r.user).then(function(e){!0===e.data?r.$message({message:"注册成功，请点击右下角登录按钮进行登录",type:"success"}):r.$message.error("该用户名已被注册，请更改您的用户名")}).catch(function(e){r.$message.error(e.status+" "+e.error)})):r.$message.error("请将表单填写完整或者两次密码不一致")})}}},o={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("h1",[e._v("Campus-Order")]),e._v(" "),s("h2",[e._v("注册")]),e._v(" "),s("el-form",{ref:"user",staticStyle:{width:"300px"},attrs:{model:e.user,rules:e.rules,"status-icon":""}},[s("el-form-item",{attrs:{prop:"userName"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.user.userName,callback:function(r){e.$set(e.user,"userName",r)},expression:"user.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"checkpassword"}},[s("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.checkpassword,callback:function(r){e.$set(e.user,"checkpassword",r)},expression:"user.checkpassword"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:function(r){return e.register("user")}}},[e._v("注册")])],1),e._v(" "),s("el-form-item",[s("a",{staticClass:"logon",attrs:{href:"/#/index/login"}},[e._v("立即登录")])])],1)],1)},staticRenderFns:[]},u=s("VU/8")(a,o,!1,null,null,null);r.default=u.exports}});
//# sourceMappingURL=13.cda1b162e127b44992a1.js.map